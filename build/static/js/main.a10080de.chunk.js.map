{"version":3,"sources":["listItem.js","todoList.js","loginForm.js","App.js","reportWebVitals.js","index.js"],"names":["ListItem","props","useState","item","task","editedItem","setEditedItem","editMode","setEditMode","className","onChange","evt","target","value","placeholder","onClick","editHandler","idx","disabled","trim","length","deleteHandler","TodoList","items","setItems","newItem","setNewItem","itemIdx","idToDelete","_id","fetch","method","credentials","then","r","console","log","splice","editedValue","idToEdit","body","JSON","stringify","headers","json","resp","useEffect","arr","sortedArr","sort","a","b","Date","creationTime","valueOf","id","style","backgroundColor","padding","border","username","logoutHandler","push","map","LoginForm","setUsername","password","setPassword","type","e","error","signupHandler","loginHandler","App","loggedIn","setLoggedIn","undefined","setError","userName","setUserName","getUserName","ok","success","loginOrSignup","url","err","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a10080de.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\n\nfunction ListItem(props) {\n  const [editedItem, setEditedItem] = useState(props.item.task);\n  const [editMode, setEditMode] = useState(false);\n  const editedItemChanged = (evt) => {\n    setEditedItem(evt.target.value);\n  };\n  const saveEditedItem = () => {\n    props.editHandler(editedItem, props.idx);\n    setEditMode(false);\n  };\n  return (\n    <div className=\"list\">\n      {editMode ? (\n        <>\n          <div className=\"listitem\">\n            <textarea\n              className=\"editTask\"\n              onChange={editedItemChanged}\n              placeholder=\"Edit Task\"\n              value={editedItem}\n            ></textarea>\n          </div>\n          <div className=\"listactions\">\n            <button\n              className=\"saveTask\"\n              onClick={saveEditedItem}\n              disabled={editedItem.trim().length === 0}\n            >\n              Save Task\n            </button>\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"listitem\">{props.item.task}</div>\n          <div className=\"listactions\">\n            <button className=\"edit\" onClick={() => setEditMode(true)}>\n              edit\n            </button>\n            <button\n              className=\"delete\"\n              onClick={() => props.deleteHandler(props.idx)}\n            >\n              delete\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default ListItem;\n","import React, { useState, useEffect } from \"react\";\nimport ListItem from \"./listItem\";\nimport \"./App.css\";\n\nexport default function TodoList(props) {\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState(\"\");\n\n  const addItem = () => {\n    // send data to backend\n    fetch(\"http://localhost:9999/todo\", {\n      method: \"POST\",\n      body: JSON.stringify({ task: newItem }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: \"include\"  \n    })\n      .then((r) => r.json())\n      .then((resp) => {\n        console.log(\"Got data from POST backend\", resp);\n\n        items.push(resp);\n        setItems([...items]);\n        setNewItem(\"\");\n      });\n  };\n  const newItemChanged = (evt) => {\n    setNewItem(evt.target.value);\n  };\n\n  const deleteHandler = (itemIdx) => {\n    const idToDelete = items[itemIdx]._id;\n    fetch(`http://localhost:9999/todo/${idToDelete}`, {\n      method: \"DELETE\", credentials: \"include\"  \n    }).then((r) => {\n      console.log(\"Got successfully DELETE\");\n      items.splice(itemIdx, 1);\n      setItems([...items]);\n    });\n  };\n\n  const editHandler = (editedValue, itemIdx) => {\n    const idToEdit = items[itemIdx]._id;\n    fetch(`http://localhost:9999/todo/${idToEdit}`, {\n      method: \"PUT\",\n      body: JSON.stringify({ task: editedValue }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n       credentials: \"include\"  \n    })\n      .then((r) => r.json())\n      .then((resp) => {\n        console.log(\"Got successfully response from PUT\", resp);\n        items[itemIdx] = resp;\n        setItems([...items]);\n      });\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:9999/todo\", { credentials: \"include\"  })\n      .then((r) => r.json())\n      .then((arr) => {\n        const sortedArr = arr.sort((a, b) => {\n            const aDateNumeric = new Date(a.creationTime).valueOf();\n            const bDateNumeric = new Date(b.creationTime).valueOf();\n            return aDateNumeric - bDateNumeric;\n\n        }); // sorts in ascending order of id - timestamp\n        // const taskArr = sortedArr.map((item) => item.task); // gets the task for each item to create a strig array\n        setItems(sortedArr); // sets the array of { id, task }\n      });\n  }, []);\n\n  return (\n    <div id=\"main\">\n        <div className=\"user\">\n            <div style={{backgroundColor:\"darkgray\", padding:'10px', border:'1px solid black'}}>Username: <b>{props.username}</b></div>\n            <button onClick={props.logoutHandler}>Log Out</button>\n        </div>\n      <div className=\"new\">\n        <textarea\n          id=\"task\"\n          onChange={newItemChanged}\n          placeholder=\"New Item\"\n          value={newItem}\n        ></textarea>\n        <button\n          id=\"btn\"\n          onClick={addItem}\n          disabled={newItem.trim().length === 0}\n        >\n          Add Item\n        </button>\n      </div>\n      {items.map((item, idx) => (\n        <ListItem\n          item={item}\n          key={item._id}\n          idx={idx}\n          editHandler={editHandler}\n          deleteHandler={deleteHandler}\n        />\n      ))}\n    </div>\n  );\n}","import React, { useState } from \"react\";\nimport \"./App.css\";\n\nexport default function LoginForm(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  return (\n    <div className=\"login\">\n      <input\n        type=\"text\"\n        placeholder=\"Enter username\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      ></input>\n      <input\n        type=\"password\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      ></input>\n      {props.error ? <div className=\"error\">{props.error}</div> : null}\n      <button onClick={() => props.signupHandler(username, password)}>Sign Up</button>\n      <button onClick={() => props.loginHandler(username, password)}>Log In</button>\n    </div>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport TodoList from \"./todoList\";\nimport LoginForm from \"./loginForm\";\nimport \"./App.css\";\n// const port = 8080\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [error, setError] = useState(undefined);\n  const [userName, setUserName] = useState(undefined);\n\n  const getUserName = () => {\n    return fetch('http://localhost:9999/userinfo', { credentials: \"include\"})\n    .then(r => {\n      if(r.ok) {\n        return r.json();\n      } else {\n        setLoggedIn(false);\n        setUserName(undefined);\n        return { success: false };\n      }\n    }).then(r => {\n      if(r.success !== false) {\n        setLoggedIn(true);\n        setUserName(r.userName);\n      }\n    });\n  }\n\n  useEffect(() => {\n    getUserName();\n  }, []);\n\n\n  const signupHandler = (username, password) => {\n    loginOrSignup('http://localhost:9999/signup', username, password);\n  };\n  const loginHandler = (username, password) => {\n    loginOrSignup('http://localhost:9999/login', username, password);\n  };\n\n  const logoutHandler = () => {\n    return fetch('http://localhost:9999/logout', { credentials: 'include'})\n    .then(r => {\n      if(r.ok) {\n        setLoggedIn(false);\n        setUserName(undefined);\n      }\n    })\n  };\n\n\n  const loginOrSignup = (url, username, password) => {\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({ userName: username, password }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials:\"include\"\n    })\n      .then((r) => {\n        if(r.ok) {\n          return { success: true };\n        } else {\n          return r.json()\n        }\n      })\n      .then((r) => {\n        if(r.success === true) {\n          return getUserName();\n        } else {\n          setError(r.err);\n        }\n      });\n  }\n  return loggedIn ? (\n    <TodoList username={userName} logoutHandler={logoutHandler}/>\n  ) : (\n    <LoginForm\n      signupHandler={signupHandler}\n      loginHandler={loginHandler}\n      error={error}\n    />\n  );\n}\n//App.listen(port, () => console.log(`App listening on port ${port}!`))\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}